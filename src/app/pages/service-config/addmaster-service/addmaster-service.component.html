<div class="row">
  <div class="col-md-12">
    <h1 i18n="Service header|Service header@@serviceHeader" class="page-header" *ngIf="serviceFormView">
      {{addEditText}} Service
    </h1>
    <h1 i18n="Service Preview header|Service Preview@@servicePreview" class="page-header" *ngIf="serviceReadModeView">
      {{addEditText}} Service- Preview
    </h1>
  </div>
</div>
<div class="row margin_0px">
  <div class="col-md-12 padding_0px rowBox">
    <div class="padding_Form">
      <form [formGroup]="serviceForm" novalidate (ngSubmit)="createService()" *ngIf="serviceFormView">
        <div class="form-group-custom1">
          <legend i18n="Service Information header|Service Information@@serviceInfo" class="m-b-15">Service Information</legend>
          <div class="formBodyCustom1">
            <div class="m-form__group row">
              <div class="col-md-6 col-lg-6">
                <label i18n="Module Name|Module Name@@moduleName*" class="">Module Name<span class="text-danger">*</span></label>
                <div class="form-group" >
                    <div [ngClass]="{'has-error': ((serviceForm.get('moduleName').touched ||
                    serviceForm.get('moduleName').dirty) &&
                    serviceForm.get('moduleName').errors)}">
                    <input type="text" id="moduleName" [readonly]="true" formControlName="moduleName"
                      class="form-control m-input" i18n-placeholder="Module Name placeholder|Enter Module Name@@name.placeholder" placeholder="Enter Module Name">
                    <span class="help-block" *ngIf="((serviceForm.get('moduleName').touched ||
                                serviceForm.get('moduleName').dirty) &&
                                serviceForm.get('moduleName').errors)">
                      <span i18n="Message|Please enter Module Name@@name.message" *ngIf="serviceForm.get('moduleName').errors.required">
                        Please enter Module Name
                      </span>
                      <span i18n="Message|Please enter valid Characters@@name.message1" *ngIf="serviceForm.get('moduleName').errors.pattern">
                          Please enter valid Characters
                      </span>
                    </span>
                  </div>
                  </div>
              </div>
              <div class="col-md-6 col-lg-6">
                  <label i18n="Display Name|Display Name@@displayName*" class="">Display Name<span class="text-danger">*</span></label>
                    <div class="form-group">
                      <div [ngClass]="{'has-error': ((serviceForm.get('displayName').touched ||
                      serviceForm.get('displayName').dirty) &&
                      serviceForm.get('displayName').errors)}">
                        <input (keyup)="onKey($event)" type="text" id="displayName" formControlName="displayName"
                          class="form-control m-input" i18n-placeholder="Display Name placeholder|Enter Display Name@@displayName.placeholder"
                          placeholder="Enter Display Name">
                        <span class="help-block" *ngIf="((serviceForm.get('displayName').touched ||
                        serviceForm.get('displayName').dirty) &&
                        serviceForm.get('displayName').errors)">
                          <span i18n="Message|Please enter Display Name@@displayName.message" *ngIf="(serviceForm.get('displayName').errors.required || serviceForm.get('displayName').errors.whitespace)">
                            Please enter Display Name
                          </span>
                          <span i18n="Message|Please enter valid Characters@@displayName.message1" *ngIf="serviceForm.get('displayName').errors.pattern">
                            Please enter valid Characters
                          </span>
                        </span>
                      </div>
                    </div>
              </div>
            </div>
            <div class="m-form__group row">
              <div class="col-md-6 col-lg-6">
                <label i18n="Description|Description@@description*" class="">Description<span class="text-danger">*</span></label>
                <div class="form-group">
                    <textarea type="text" id="description"  formControlName="description"
                      class="form-control m-input textAreaHeight" i18n-placeholder="Description placeholder|Enter Description@@description.placeholder" placeholder="Enter Description"></textarea>
                  </div>
              </div>
              <div class="col-md-6 col-lg-6">
                  <label i18n="Service URL|Service URL@@serviceURL*" class="">Service URL<span class="text-danger">*</span></label>
                  <div class="form-group">
                     <!--  <div [ngClass]="{'has-error': ((serviceForm.get('name').touched ||
                      serviceForm.get('name').dirty) &&
                      serviceForm.get('name').errors)}"> -->
                        <input type="text" id="name"  formControlName="name"
                          class="form-control m-input" i18n-placeholder="Service URL placeholder|Enter Service URL@@serviceURL.placeholder" placeholder="Enter Service URL">
                         <!--  <span class="help-block" *ngIf="((serviceForm.get('name').touched ||
                          serviceForm.get('name').dirty) &&
                          serviceForm.get('name').errors)">
                  <span *ngIf="(serviceForm.get('name').errors.required || serviceForm.get(name).errors.whitespace)">
                   Please enter Service URL
                  </span>
                  <span *ngIf="serviceForm.get('name').errors.pattern">
                      Please enter valid service URL
                  </span>
                </span> -->
                      <!-- </div> -->
                  </div>
                  <label i18n="Data Operation|Data Operation@@dataOperation*" class="">Data Operation<span class="text-danger">*</span></label>
                  <div class="form-group">
                      <div [ngClass]="{'has-error': ((serviceForm.get('dataOperation').touched ||
                      serviceForm.get('dataOperation').dirty) &&
                      serviceForm.get('dataOperation').errors)}">
                        <select id="dataOperation" formControlName="dataOperation" class="form-control m-input" required>
                          <option value="" i18n="Option|Select@@select">--Select--</option>
                          <option *ngFor="let dataOperation of dataOperations" [value]="dataOperation.dataOperation">{{dataOperation.dataOperation}}</option>
                        </select>
                        <span class="help-block" *ngIf="((serviceForm.get('dataOperation').touched ||
                                      serviceForm.get('dataOperation').dirty) &&
                                      serviceForm.get('dataOperation').errors)">
                          <span i18n="Message|Please select Data Operation@@dataOperation.message" *ngIf="serviceForm.get('dataOperation').errors.required">
                            Please select Data Operation
                          </span>
                        </span>
                      </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
        <div class="m-form__group row">
          <div class="col-lg-6" style="padding-left: 10px; padding-right: 15px;">
            <label i18n="Status|Status@@status">Status
            </label>
            <div class="form-group">
              <mat-radio-group formControlName="status">
                <mat-radio-button value="Active" i18n="Radio button|Active@@active" style="margin-right: 20px;" id="">Active
                </mat-radio-button>
                <mat-radio-button value="In_Active" i18n="Radio button|InActive@@inActive">In-Active</mat-radio-button>
              </mat-radio-group>
            </div>
          </div>
        </div>
        <div class="path finalLine"></div>
        <div class="row" style="    text-align: right;padding: 23px 0;">
          <div class="col-md-12">
            <a >
              <button type="button" id="cancelService" class="btn btn-default text-center cancelActionButton" i18n="Cancel button|Cancel@@cancel" (click)="cancleAddMasterServiceForm()"> Cancel
              </button>
            </a>
            &nbsp;

            <button type="button" class="btn btn-secondary text-center resetActionButton"
              [disabled]="!serviceForm.dirty && serviceForm.pristine || !serviceForm.dirty && !serviceForm.pristine"
              (click)="resetServiceForm()" i18n="Reset button|Reset@@reset"> Reset </button>
            &nbsp;

            <span i18n-matTooltip="Tooltip validation|Fill the mandatory fields@@fillTheMandatoryFields" matTooltip="Fill the mandatory fields"  [matTooltipDisabled]="serviceForm.valid">
              <button  class="btn btn-primary text-center reviewAndSaveActionButton" type="submit"
                [disabled]="!serviceForm.valid" i18n="Review&Save button|Review&Save@@review&Save">
                Review & Save</button>
            </span>
          </div>
        </div>
      </form>

      <!-- web service consumer form read mode view starts here  -->
      <div *ngIf="serviceReadModeView" class="formReadMode">
        <div class="form-group-custom1">
          <legend class="m-b-15" i18n="Service Details header|Service Details@@serviceDetails">Service Details</legend>
          <div class="form-row">
            <a (click)="backButton('moduleDetails')" class="edit_section">
              <img src="/assets/img/action/edit.png" alt="edit module details"
              i18n-matTooltip="Image Tooltip|Click to edit module Detail@@clicktoeditmoduleDetail" matTooltip="Click to edit module Detail">
            </a>
            <div class="form-group col-sm-6 col-md-4">
              <div>
                <label i18n="Module Name|Module Name@@moduleName" class="">Module Name</label>
                <p>
                  {{service.moduleName | hyphen}}
                </p>
              </div>
            </div>
            <div class="form-group col-sm-6 col-md-4">
              <label i18n="Description|Description@@description" class="">Description</label>
              <p>
                {{service.description | hyphen}}
              </p>
            </div>
            <div class="form-group col-sm-6 col-md-4" style="word-break: break-all;">
              <div>
                <label i18n="Display Name|Display Name@@displayName" class="">Display Name</label>
                <p>
                  {{service.displayName | hyphen}}
                </p>
              </div>
            </div>
            <div class="form-group col-sm-6 col-md-4">
              <div>
                <label i18n="Data Operation|Data Operation@@dataOperation" class="">Data Operation</label>
                <p>
                  {{service.dataOperation | hyphen}}
                </p>
              </div>
            </div>
            <div class="form-group col-sm-6 col-md-4">
              <div>
                <label i18n="Service Url|Service Url@@serviceUrl" class="">Service Url</label>
                <p style="word-break: break-all;">
                  {{service.name | hyphen}}
                </p>
              </div>
            </div>

            <div class="form-group col-sm-6 col-md-4">
              <label i18n="Status|Status@@status" class="">Status</label>
              <p>
                {{service.status | hyphen}}
              </p>
            </div>
          </div>
        </div>
        <div class="path finalLine"></div>
        <div class="row" style="    text-align: right;padding: 23px 0;">
          <div class="col-md-12">
            <button type="button" class="btn btn-default text-center backActionButton" (click)="backButton($event)" i18n="Back button|Back@@back"> Back
            </button>
            &nbsp;
            <button i18n="Save button|Save@@save" class="btn btn-primary text-center saveActionButton" type="submit"
            (click)=" saveService()">
              Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Model pop up window  -->
<!-- <button type="button" i18n="@@Popup" style="display: none" id="popUpWindow" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-sm" data-keyboard="false" data-backdrop="static">
  Pop up
</button>
<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-body">
          <div class="alert alert-success text-center">
              <strong>{{serviceMessage}}</strong> 
            </div>
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-default" (click)="goToModule()" data-dismiss="modal" i18n="@@Close">Close</button>
        </div>
    </div>
  </div>
</div> -->

<!-- Loader image -->
<div *ngIf="showLoaderImage" class="col-lg-12 loaderImageStyle" style="margin-left:0%; margin-top:0%;margin-bottom:0%;" align="center">
  <img src="/assets/img/dashboard/ProgressLoader.gif" height="auto" width="50%" alt="Loading........">
</div>
    <!-- Global modal notification component selector for cancel and final save form-->
    <app-modal-notification (modelNotificationWarning)="formResetConfirm()" (modelNotificationSuccess)="redirectTo()"></app-modal-notification>
