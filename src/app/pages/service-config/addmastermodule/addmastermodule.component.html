<div class="row">
  <div class="col-md-12">
    <h1 i18n="Module Header|Module Header@@moduleHeader" class="page-header" *ngIf="moduleFormView">
      {{addEditText}} Module
    </h1>
    <h1 i18n="Module Preview|Module Preview@@modulePreview" class="page-header" *ngIf="moduleReadModeView">
      {{addEditText}} Module- Preview
    </h1>
  </div>
</div>
<div class="row margin_0px">
  <div class="col-md-12 padding_0px rowBox">
    <div class="padding_Form">
      <form [formGroup]="moduleForm" novalidate (ngSubmit)="createModule()" *ngIf="moduleFormView">
        <div class="form-group form-group-custom1">
          <legend i18n="Module Information header|Module Information@@moduleInfo" class="m-b-15">Module Information
          </legend>
          <div class="formBodyCustom1">
            <div class="m-form__group row">
              <div class="col-md-6 col-lg-6">
                <label i18n="Name|Name@@name*" class="">Name<span class="text-danger">*</span></label>
                <div class="form-group">
                  <div [ngClass]="{'has-error': ((moduleForm.get('name').touched ||
                      moduleForm.get('name').dirty) &&
                    moduleForm.get('name').errors)}">
                    <input (keyup)="onKey($event)" type="text" id="moduleName" formControlName="name"
                      class="form-control m-input"
                      i18n-placeholder="Module Name placeholder|Enter Module Name@@name.placeholder"
                      placeholder="Enter Module Name">
                    <span class="help-block" *ngIf="((moduleForm.get('name').touched ||
                                moduleForm.get('name').dirty) &&
                                moduleForm.get('name').errors)">
                      <span i18n="Message|Please enter Module Name@@name.message"
                        *ngIf="(moduleForm.get('name').errors.required || moduleForm.get('name').errors.whitespace)">
                        Please enter Module Name
                      </span>
                      <span i18n="Message|Please enter valid Characters@@name.message1"
                        *ngIf="moduleForm.get('name').errors.pattern">
                        Please enter valid Characters
                      </span>
                    </span>
                  </div>
                </div>
                <label i18n="Status|Status@@status">Status
                </label>
                <div class="form-group">
                  <mat-radio-group formControlName="status">
                    <mat-radio-button value="Active" name="status" i18n="Radio button|Active@@active" style="margin-right: 20px;"
                      id="A">Active
                    </mat-radio-button>
                    <mat-radio-button id="I" name="status" value="In_Active" i18n="Radio button|InActive@@inActive">In-Active
                    </mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
              <div class="col-md-6 col-lg-6">
                <label i18n="Description|Description@@description" class="">Description</label>
                <div class="form-group">
                  <textarea type="text" id="description" formControlName="description"
                    class="form-control m-input textAreaHeight"
                    i18n-placeholder="Description placeholder|Enter Description@@description.placeholder"
                    placeholder="Enter Description"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="path finalLine"></div>
        <div class="row" style="    text-align: right;padding: 23px 0;">
          <div class="col-md-12">
            <a (click)="cancelButton()">
              <button type="button" id="cancelmodule" class="btn btn-default text-center cancelActionButton"
                i18n="Cancel button|Cancel@@cancel"> Cancel
              </button>
            </a>
            &nbsp;

            <button type="button" class="btn btn-secondary text-center resetActionButton"
              [disabled]="!moduleForm.dirty && moduleForm.pristine || !moduleForm.dirty && !moduleForm.pristine"
              (click)="resetModuleForm()" i18n="Reset button|Reset@@reset"> Reset </button>
            &nbsp;

            <span i18n-matTooltip="Tooltip validation|Fill the mandatory fields@@fillTheMandatoryFields"
              matTooltip="Fill the mandatory fields" [matTooltipDisabled]="moduleForm.valid">
              <button i18n="@@AddModule" class="btn btn-primary text-center reviewAndSaveActionButton" type="submit"
                [disabled]="!moduleForm.valid" i18n="Review&Save button|Review&Save@@review&Save">
                Review & Save</button>
            </span>
          </div>
        </div>
      </form>

      <!-- web service consumer form read mode view starts here  -->
      <div *ngIf="moduleReadModeView" class="formReadMode">
        <div class="form-group-custom1">
          <legend i18n="Module Details header|Module Details@@moduleDetails" class="m-b-15">Module Details</legend>
          <div class="form-row">
            <a (click)="backButton('moduleDetails')" class="edit_section">
              <img src="/assets/img/action/edit.png" alt="edit module details"
                i18n-matTooltip="Image Tooltip|Click to edit module Detail@@ClicktoeditmoduleDetail"
                matTooltip="Click to edit module Detail">
            </a>
            <div class="form-group col-sm-6 col-md-4">
              <div>
                <label i18n="Name|Name@@name" class="">Name</label>
                <p>
                  {{module.name | hyphen}}
                </p>
              </div>
            </div>
            <div class="form-group col-sm-6 col-md-4">
              <label i18n="Description|Description@@description" class="">Description</label>
              <p>
                {{module.description | hyphen}}
              </p>
            </div>

            <div class="form-group col-sm-6 col-md-4">
              <label i18n="Status|Status@@status" class="">Status</label>
              <p>
                {{module.status | hyphen}}
              </p>
            </div>
          </div>
        </div>
        <div class="path finalLine"></div>
        <div class="row" style="    text-align: right;padding: 23px 0;">
          <div class="col-md-12">
            <button type="button" class="btn btn-default text-center backActionButton" (click)="backButton($event)"
              i18n="Back button|Back@@back"> Back
            </button>
            &nbsp;
            <button i18n="Save button|Save@@save" class="btn btn-primary text-center saveActionButton" type="submit"
              (click)="savemodule()">
              Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loader image -->
<div *ngIf="showLoaderImage" class="col-lg-12 loaderImageStyle" style="margin-left:0%; margin-top:0%;margin-bottom:0%;"
  align="center">
  <img src="/assets/img/dashboard/ProgressLoader.gif" height="auto" width="50%" alt="Loading........">
</div>
<!-- Global modal notification component selector for cancel and final save form-->
<app-modal-notification (modelNotificationWarning)="formResetConfirm()" (modelNotificationSuccess)="redirectTo()">
</app-modal-notification>